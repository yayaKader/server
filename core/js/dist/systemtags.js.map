{"version":3,"file":"systemtags.js","sources":["webpack:///webpack/bootstrap","webpack:///./core/css/systemtags.scss?456a","webpack:///./core/js/systemtags/merged-systemtags.js","webpack:///./core/js/systemtags/systemtagmodel.js","webpack:///./core/js/systemtags/systemtags.js","webpack:///./core/js/systemtags/systemtagscollection.js","webpack:///./core/js/systemtags/systemtagsinputfield.js","webpack:///./core/js/systemtags/systemtagsmappingcollection.js","webpack:///./core/js/systemtags/templates.js","webpack:///./core/css/systemtags.scss","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///./node_modules/vue-style-loader/lib/listToStyles.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./core/js/systemtags/merged-systemtags.js\");\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./systemtags.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"bdf318e0\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./systemtags.scss\", function() {\n     var newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./systemtags.scss\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import './systemtags.js';\nimport './templates.js';\nimport './systemtagmodel.js';\nimport './systemtagsmappingcollection.js';\nimport './systemtagscollection.js';\nimport './systemtagsinputfield.js';\nimport '../../css/systemtags.scss';","/*\n * Copyright (c) 2015\n *\n * This file is licensed under the Affero General Public License version 3\n * or later.\n *\n * See the COPYING-README file.\n *\n */\n(function (OC) {\n  _.extend(OC.Files.Client, {\n    PROPERTY_FILEID: '{' + OC.Files.Client.NS_OWNCLOUD + '}id',\n    PROPERTY_CAN_ASSIGN: '{' + OC.Files.Client.NS_OWNCLOUD + '}can-assign',\n    PROPERTY_DISPLAYNAME: '{' + OC.Files.Client.NS_OWNCLOUD + '}display-name',\n    PROPERTY_USERVISIBLE: '{' + OC.Files.Client.NS_OWNCLOUD + '}user-visible',\n    PROPERTY_USERASSIGNABLE: '{' + OC.Files.Client.NS_OWNCLOUD + '}user-assignable'\n  });\n  /**\n   * @class OCA.SystemTags.SystemTagsCollection\n   * @classdesc\n   *\n   * System tag\n   *\n   */\n\n\n  var SystemTagModel = OC.Backbone.Model.extend(\n  /** @lends OCA.SystemTags.SystemTagModel.prototype */\n  {\n    sync: OC.Backbone.davSync,\n    defaults: {\n      userVisible: true,\n      userAssignable: true,\n      canAssign: true\n    },\n    davProperties: {\n      'id': OC.Files.Client.PROPERTY_FILEID,\n      'name': OC.Files.Client.PROPERTY_DISPLAYNAME,\n      'userVisible': OC.Files.Client.PROPERTY_USERVISIBLE,\n      'userAssignable': OC.Files.Client.PROPERTY_USERASSIGNABLE,\n      // read-only, effective permissions computed by the server,\n      'canAssign': OC.Files.Client.PROPERTY_CAN_ASSIGN\n    },\n    parse: function parse(data) {\n      return {\n        id: data.id,\n        name: data.name,\n        userVisible: data.userVisible === true || data.userVisible === 'true',\n        userAssignable: data.userAssignable === true || data.userAssignable === 'true',\n        canAssign: data.canAssign === true || data.canAssign === 'true'\n      };\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagModel = SystemTagModel;\n})(OC);","/* eslint-disable */\n\n/*\n * Copyright (c) 2016\n *\n * This file is licensed under the Affero General Public License version 3\n * or later.\n *\n * See the COPYING-README file.\n *\n */\n(function (OC) {\n  /**\n   * @namespace\n   */\n  OC.SystemTags = {\n    /**\n     *\n     * @param {OC.SystemTags.SystemTagModel|Object|String} tag\n     * @returns {jQuery}\n     */\n    getDescriptiveTag: function getDescriptiveTag(tag) {\n      if (_.isUndefined(tag.name) && !_.isUndefined(tag.toJSON)) {\n        tag = tag.toJSON();\n      }\n\n      if (_.isUndefined(tag.name)) {\n        return $('<span>').addClass('non-existing-tag').text(t('core', 'Non-existing tag #{tag}', {\n          tag: tag\n        }));\n      }\n\n      var $span = $('<span>');\n      $span.append(escapeHTML(tag.name));\n      var scope;\n\n      if (!tag.userAssignable) {\n        scope = t('core', 'restricted');\n      }\n\n      if (!tag.userVisible) {\n        // invisible also implicitly means not assignable\n        scope = t('core', 'invisible');\n      }\n\n      if (scope) {\n        var $tag = $('<em>').text(' ' + t('core', '({scope})', {\n          scope: scope\n        }));\n        $span.append($tag);\n      }\n\n      return $span;\n    }\n  };\n})(OC);","/* eslint-disable */\n\n/*\n * Copyright (c) 2015\n *\n * This file is licensed under the Affero General Public License version 3\n * or later.\n *\n * See the COPYING-README file.\n *\n */\n(function (OC) {\n  function filterFunction(model, term) {\n    return model.get('name').substr(0, term.length).toLowerCase() === term.toLowerCase();\n  }\n  /**\n   * @class OCA.SystemTags.SystemTagsCollection\n   * @classdesc\n   *\n   * Collection of tags assigned to a file\n   *\n   */\n\n\n  var SystemTagsCollection = OC.Backbone.Collection.extend(\n  /** @lends OC.SystemTags.SystemTagsCollection.prototype */\n  {\n    sync: OC.Backbone.davSync,\n    model: OC.SystemTags.SystemTagModel,\n    url: function url() {\n      return OC.linkToRemote('dav') + '/systemtags/';\n    },\n    filterByName: function filterByName(name) {\n      return this.filter(function (model) {\n        return filterFunction(model, name);\n      });\n    },\n    reset: function reset() {\n      this.fetched = false;\n      return OC.Backbone.Collection.prototype.reset.apply(this, arguments);\n    },\n\n    /**\n    * Lazy fetch.\n    * Only fetches once, subsequent calls will directly call the success handler.\n    *\n    * @param options\n    * @param [options.force] true to force fetch even if cached entries exist\n    *\n    * @see Backbone.Collection#fetch\n    */\n    fetch: function fetch(options) {\n      var self = this;\n      options = options || {};\n\n      if (this.fetched || options.force) {\n        // directly call handler\n        if (options.success) {\n          options.success(this, null, options);\n        } // trigger sync event\n\n\n        this.trigger('sync', this, null, options);\n        return Promise.resolve();\n      }\n\n      var success = options.success;\n      options = _.extend({}, options);\n\n      options.success = function () {\n        self.fetched = true;\n\n        if (success) {\n          return success.apply(this, arguments);\n        }\n      };\n\n      return OC.Backbone.Collection.prototype.fetch.call(this, options);\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsCollection = SystemTagsCollection;\n  /**\n   * @type OC.SystemTags.SystemTagsCollection\n   */\n\n  OC.SystemTags.collection = new OC.SystemTags.SystemTagsCollection();\n})(OC);","/* eslint-disable */\n\n/*\n * Copyright (c) 2015\n *\n * This file is licensed under the Affero General Public License version 3\n * or later.\n *\n * See the COPYING-README file.\n *\n */\n\n/* global Handlebars */\n(function (OC) {\n  /**\n   * @class OC.SystemTags.SystemTagsInputField\n   * @classdesc\n   *\n   * Displays a file's system tags\n   *\n   */\n  var SystemTagsInputField = OC.Backbone.View.extend(\n  /** @lends OC.SystemTags.SystemTagsInputField.prototype */\n  {\n    _rendered: false,\n    _newTag: null,\n    _lastUsedTags: [],\n    className: 'systemTagsInputFieldContainer',\n    template: function template(data) {\n      return '<input class=\"systemTagsInputField\" type=\"hidden\" name=\"tags\" value=\"\"/>';\n    },\n\n    /**\n    * Creates a new SystemTagsInputField\n    *\n    * @param {Object} [options]\n    * @param {string} [options.objectType=files] object type for which tags are assigned to\n    * @param {bool} [options.multiple=false] whether to allow selecting multiple tags\n    * @param {bool} [options.allowActions=true] whether tags can be renamed/delete within the dropdown\n    * @param {bool} [options.allowCreate=true] whether new tags can be created\n    * @param {bool} [options.isAdmin=true] whether the user is an administrator\n    * @param {Function} options.initSelection function to convert selection to data\n    */\n    initialize: function initialize(options) {\n      options = options || {};\n      this._multiple = !!options.multiple;\n      this._allowActions = _.isUndefined(options.allowActions) || !!options.allowActions;\n      this._allowCreate = _.isUndefined(options.allowCreate) || !!options.allowCreate;\n      this._isAdmin = !!options.isAdmin;\n\n      if (_.isFunction(options.initSelection)) {\n        this._initSelection = options.initSelection;\n      }\n\n      this.collection = options.collection || OC.SystemTags.collection;\n      var self = this;\n      this.collection.on('change:name remove', function () {\n        // refresh selection\n        _.defer(self._refreshSelection);\n      });\n\n      _.defer(_.bind(this._getLastUsedTags, this));\n\n      _.bindAll(this, '_refreshSelection', '_onClickRenameTag', '_onClickDeleteTag', '_onSelectTag', '_onDeselectTag', '_onSubmitRenameTag');\n    },\n    _getLastUsedTags: function _getLastUsedTags() {\n      var self = this;\n      $.ajax({\n        type: 'GET',\n        url: OC.generateUrl('/apps/systemtags/lastused'),\n        success: function success(response) {\n          self._lastUsedTags = response;\n        }\n      });\n    },\n\n    /**\n    * Refreshes the selection, triggering a call to\n    * select2's initSelection\n    */\n    _refreshSelection: function _refreshSelection() {\n      this.$tagsField.select2('val', this.$tagsField.val());\n    },\n\n    /**\n    * Event handler whenever the user clicked the \"rename\" action.\n    * This will display the rename field.\n    */\n    _onClickRenameTag: function _onClickRenameTag(ev) {\n      var $item = $(ev.target).closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      var tagModel = this.collection.get(tagId);\n      var oldName = tagModel.get('name');\n      var $renameForm = $(OC.SystemTags.Templates['result_form']({\n        cid: this.cid,\n        name: oldName,\n        deleteTooltip: t('core', 'Delete'),\n        renameLabel: t('core', 'Rename'),\n        isAdmin: this._isAdmin\n      }));\n      $item.find('.label').after($renameForm);\n      $item.find('.label, .systemtags-actions').addClass('hidden');\n      $item.closest('.select2-result').addClass('has-form');\n      $renameForm.find('[title]').tooltip({\n        placement: 'bottom',\n        container: 'body'\n      });\n      $renameForm.find('input').focus().selectRange(0, oldName.length);\n      return false;\n    },\n\n    /**\n    * Event handler whenever the rename form has been submitted after\n    * the user entered a new tag name.\n    * This will submit the change to the server.\n    *\n    * @param {Object} ev event\n    */\n    _onSubmitRenameTag: function _onSubmitRenameTag(ev) {\n      ev.preventDefault();\n      var $form = $(ev.target);\n      var $item = $form.closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      var tagModel = this.collection.get(tagId);\n      var newName = $(ev.target).find('input').val().trim();\n\n      if (newName && newName !== tagModel.get('name')) {\n        tagModel.save({\n          'name': newName\n        }); // TODO: spinner, and only change text after finished saving\n\n        $item.find('.label').text(newName);\n      }\n\n      $item.find('.label, .systemtags-actions').removeClass('hidden');\n      $form.remove();\n      $item.closest('.select2-result').removeClass('has-form');\n    },\n\n    /**\n    * Event handler whenever a tag must be deleted\n    *\n    * @param {Object} ev event\n    */\n    _onClickDeleteTag: function _onClickDeleteTag(ev) {\n      var $item = $(ev.target).closest('.systemtags-item');\n      var tagId = $item.attr('data-id');\n      this.collection.get(tagId).destroy();\n      $(ev.target).tooltip('hide');\n      $item.closest('.select2-result').remove(); // TODO: spinner\n\n      return false;\n    },\n    _addToSelect2Selection: function _addToSelect2Selection(selection) {\n      var data = this.$tagsField.select2('data');\n      data.push(selection);\n      this.$tagsField.select2('data', data);\n    },\n\n    /**\n    * Event handler whenever a tag is selected.\n    * Also called whenever tag creation is requested through the dummy tag object.\n    *\n    * @param {Object} e event\n    */\n    _onSelectTag: function _onSelectTag(e) {\n      var self = this;\n      var tag;\n\n      if (e.object && e.object.isNew) {\n        // newly created tag, check if existing\n        // create a new tag\n        tag = this.collection.create({\n          name: e.object.name.trim(),\n          userVisible: true,\n          userAssignable: true,\n          canAssign: true\n        }, {\n          success: function success(model) {\n            self._addToSelect2Selection(model.toJSON());\n\n            self._lastUsedTags.unshift(model.id);\n\n            self.trigger('select', model);\n          },\n          error: function error(model, xhr) {\n            if (xhr.status === 409) {\n              // re-fetch collection to get the missing tag\n              self.collection.reset();\n              self.collection.fetch({\n                success: function success(collection) {\n                  // find the tag in the collection\n                  var model = collection.where({\n                    name: e.object.name.trim(),\n                    userVisible: true,\n                    userAssignable: true\n                  });\n\n                  if (model.length) {\n                    model = model[0]; // the tag already exists or was already assigned,\n                    // add it to the list anyway\n\n                    self._addToSelect2Selection(model.toJSON());\n\n                    self.trigger('select', model);\n                  }\n                }\n              });\n            }\n          }\n        });\n        this.$tagsField.select2('close');\n        e.preventDefault();\n        return false;\n      } else {\n        tag = this.collection.get(e.object.id);\n\n        this._lastUsedTags.unshift(tag.id);\n      }\n\n      this._newTag = null;\n      this.trigger('select', tag);\n    },\n\n    /**\n    * Event handler whenever a tag gets deselected.\n    *\n    * @param {Object} e event\n    */\n    _onDeselectTag: function _onDeselectTag(e) {\n      this.trigger('deselect', e.choice.id);\n    },\n\n    /**\n    * Autocomplete function for dropdown results\n    *\n    * @param {Object} query select2 query object\n    */\n    _queryTagsAutocomplete: function _queryTagsAutocomplete(query) {\n      var self = this;\n      this.collection.fetch({\n        success: function success(collection) {\n          var tagModels = collection.filterByName(query.term.trim());\n\n          if (!self._isAdmin) {\n            tagModels = _.filter(tagModels, function (tagModel) {\n              return tagModel.get('canAssign');\n            });\n          }\n\n          query.callback({\n            results: _.invoke(tagModels, 'toJSON')\n          });\n        }\n      });\n    },\n    _preventDefault: function _preventDefault(e) {\n      e.stopPropagation();\n    },\n\n    /**\n    * Formats a single dropdown result\n    *\n    * @param {Object} data data to format\n    * @returns {string} HTML markup\n    */\n    _formatDropDownResult: function _formatDropDownResult(data) {\n      return OC.SystemTags.Templates['result'](_.extend({\n        renameTooltip: t('core', 'Rename'),\n        allowActions: this._allowActions,\n        tagMarkup: this._isAdmin ? OC.SystemTags.getDescriptiveTag(data)[0].innerHTML : null,\n        isAdmin: this._isAdmin\n      }, data));\n    },\n\n    /**\n    * Formats a single selection item\n    *\n    * @param {Object} data data to format\n    * @returns {string} HTML markup\n    */\n    _formatSelection: function _formatSelection(data) {\n      return OC.SystemTags.Templates['selection'](_.extend({\n        tagMarkup: this._isAdmin ? OC.SystemTags.getDescriptiveTag(data)[0].innerHTML : null,\n        isAdmin: this._isAdmin\n      }, data));\n    },\n\n    /**\n    * Create new dummy choice for select2 when the user\n    * types an arbitrary string\n    *\n    * @param {string} term entered term\n    * @returns {Object} dummy tag\n    */\n    _createSearchChoice: function _createSearchChoice(term) {\n      term = term.trim();\n\n      if (this.collection.filter(function (entry) {\n        return entry.get('name') === term;\n      }).length) {\n        return;\n      }\n\n      if (!this._newTag) {\n        this._newTag = {\n          id: -1,\n          name: term,\n          userAssignable: true,\n          userVisible: true,\n          canAssign: true,\n          isNew: true\n        };\n      } else {\n        this._newTag.name = term;\n      }\n\n      return this._newTag;\n    },\n    _initSelection: function _initSelection(element, callback) {\n      var self = this;\n      var ids = $(element).val().split(',');\n\n      function modelToSelection(model) {\n        var data = model.toJSON();\n\n        if (!self._isAdmin && !data.canAssign) {\n          // lock static tags for non-admins\n          data.locked = true;\n        }\n\n        return data;\n      }\n\n      function findSelectedObjects(ids) {\n        var selectedModels = self.collection.filter(function (model) {\n          return ids.indexOf(model.id) >= 0 && (self._isAdmin || model.get('userVisible'));\n        });\n        return _.map(selectedModels, modelToSelection);\n      }\n\n      this.collection.fetch({\n        success: function success() {\n          callback(findSelectedObjects(ids));\n        }\n      });\n    },\n\n    /**\n    * Renders this details view\n    */\n    render: function render() {\n      var self = this;\n      this.$el.html(this.template());\n      this.$el.find('[title]').tooltip({\n        placement: 'bottom'\n      });\n      this.$tagsField = this.$el.find('[name=tags]');\n      this.$tagsField.select2({\n        placeholder: t('core', 'Collaborative tags'),\n        containerCssClass: 'systemtags-select2-container',\n        dropdownCssClass: 'systemtags-select2-dropdown',\n        closeOnSelect: false,\n        allowClear: false,\n        multiple: this._multiple,\n        toggleSelect: this._multiple,\n        query: _.bind(this._queryTagsAutocomplete, this),\n        id: function id(tag) {\n          return tag.id;\n        },\n        initSelection: _.bind(this._initSelection, this),\n        formatResult: _.bind(this._formatDropDownResult, this),\n        formatSelection: _.bind(this._formatSelection, this),\n        createSearchChoice: this._allowCreate ? _.bind(this._createSearchChoice, this) : undefined,\n        sortResults: function sortResults(results) {\n          var selectedItems = _.pluck(self.$tagsField.select2('data'), 'id');\n\n          results.sort(function (a, b) {\n            var aSelected = selectedItems.indexOf(a.id) >= 0;\n            var bSelected = selectedItems.indexOf(b.id) >= 0;\n\n            if (aSelected === bSelected) {\n              var aLastUsed = self._lastUsedTags.indexOf(a.id);\n\n              var bLastUsed = self._lastUsedTags.indexOf(b.id);\n\n              if (aLastUsed !== bLastUsed) {\n                if (bLastUsed === -1) {\n                  return -1;\n                }\n\n                if (aLastUsed === -1) {\n                  return 1;\n                }\n\n                return aLastUsed < bLastUsed ? -1 : 1;\n              } // Both not found\n\n\n              return OC.Util.naturalSortCompare(a.name, b.name);\n            }\n\n            if (aSelected && !bSelected) {\n              return -1;\n            }\n\n            return 1;\n          });\n          return results;\n        },\n        formatNoMatches: function formatNoMatches() {\n          return t('core', 'No tags found');\n        }\n      }).on('select2-selecting', this._onSelectTag).on('select2-removing', this._onDeselectTag);\n      var $dropDown = this.$tagsField.select2('dropdown'); // register events for inside the dropdown\n\n      $dropDown.on('mouseup', '.rename', this._onClickRenameTag);\n      $dropDown.on('mouseup', '.delete', this._onClickDeleteTag);\n      $dropDown.on('mouseup', '.select2-result-selectable.has-form', this._preventDefault);\n      $dropDown.on('submit', '.systemtags-rename-form', this._onSubmitRenameTag);\n      this.delegateEvents();\n    },\n    remove: function remove() {\n      if (this.$tagsField) {\n        this.$tagsField.select2('destroy');\n      }\n    },\n    getValues: function getValues() {\n      this.$tagsField.select2('val');\n    },\n    setValues: function setValues(values) {\n      this.$tagsField.select2('val', values);\n    },\n    setData: function setData(data) {\n      this.$tagsField.select2('data', data);\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsInputField = SystemTagsInputField;\n})(OC);","/*\n * Copyright (c) 2015\n *\n * This file is licensed under the Affero General Public License version 3\n * or later.\n *\n * See the COPYING-README file.\n *\n */\n(function (OC) {\n  /**\n   * @class OC.SystemTags.SystemTagsMappingCollection\n   * @classdesc\n   *\n   * Collection of tags assigned to a an object\n   *\n   */\n  var SystemTagsMappingCollection = OC.Backbone.Collection.extend(\n  /** @lends OC.SystemTags.SystemTagsMappingCollection.prototype */\n  {\n    sync: OC.Backbone.davSync,\n\n    /**\n    * Use PUT instead of PROPPATCH\n    */\n    usePUT: true,\n\n    /**\n    * Id of the file for which to filter activities by\n    *\n    * @var int\n    */\n    _objectId: null,\n\n    /**\n    * Type of the object to filter by\n    *\n    * @var string\n    */\n    _objectType: 'files',\n    model: OC.SystemTags.SystemTagModel,\n    url: function url() {\n      return OC.linkToRemote('dav') + '/systemtags-relations/' + this._objectType + '/' + this._objectId;\n    },\n\n    /**\n    * Sets the object id to filter by or null for all.\n    *\n    * @param {int} objectId file id or null\n    */\n    setObjectId: function setObjectId(objectId) {\n      this._objectId = objectId;\n    },\n\n    /**\n    * Sets the object type to filter by or null for all.\n    *\n    * @param {int} objectType file id or null\n    */\n    setObjectType: function setObjectType(objectType) {\n      this._objectType = objectType;\n    },\n    initialize: function initialize(models, options) {\n      options = options || {};\n\n      if (!_.isUndefined(options.objectId)) {\n        this._objectId = options.objectId;\n      }\n\n      if (!_.isUndefined(options.objectType)) {\n        this._objectType = options.objectType;\n      }\n    },\n    getTagIds: function getTagIds() {\n      return this.map(function (model) {\n        return model.id;\n      });\n    }\n  });\n  OC.SystemTags = OC.SystemTags || {};\n  OC.SystemTags.SystemTagsMappingCollection = SystemTagsMappingCollection;\n})(OC);","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function () {\n  var template = Handlebars.template,\n      templates = OC.SystemTags.Templates = OC.SystemTags.Templates || {};\n  templates['result'] = template({\n    \"1\": function _(container, depth0, helpers, partials, data) {\n      return \" new-item\";\n    },\n    \"3\": function _(container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t\t<span class=\\\"label\\\">\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"tagMarkup\") || (depth0 != null ? lookupProperty(depth0, \"tagMarkup\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"tagMarkup\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 4,\n            \"column\": 22\n          },\n          \"end\": {\n            \"line\": 4,\n            \"column\": 37\n          }\n        }\n      }) : helper)) != null ? stack1 : \"\") + \"</span>\\n\";\n    },\n    \"5\": function _(container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t\t<span class=\\\"label\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 6,\n            \"column\": 22\n          },\n          \"end\": {\n            \"line\": 6,\n            \"column\": 30\n          }\n        }\n      }) : helper)) + \"</span>\\n\";\n    },\n    \"7\": function _(container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t\t<span class=\\\"systemtags-actions\\\">\\n\t\t\t<a href=\\\"#\\\" class=\\\"rename icon icon-rename\\\" title=\\\"\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"renameTooltip\") || (depth0 != null ? lookupProperty(depth0, \"renameTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"renameTooltip\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 10,\n            \"column\": 54\n          },\n          \"end\": {\n            \"line\": 10,\n            \"column\": 71\n          }\n        }\n      }) : helper)) + \"\\\"></a>\\n\t\t</span>\\n\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function main(container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          options,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      },\n          buffer = \"<span class=\\\"systemtags-item\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"isNew\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 28\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 57\n          }\n        }\n      })) != null ? stack1 : \"\") + \"\\\" data-id=\\\"\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"id\") || (depth0 != null ? lookupProperty(depth0, \"id\") : depth0)) != null ? helper : alias2, _typeof(helper) === alias3 ? helper.call(alias1, {\n        \"name\": \"id\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 68\n          },\n          \"end\": {\n            \"line\": 1,\n            \"column\": 74\n          }\n        }\n      }) : helper)) + \"\\\">\\n<span class=\\\"checkmark icon icon-checkmark\\\"></span>\\n\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"isAdmin\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(3, data, 0),\n        \"inverse\": container.program(5, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 3,\n            \"column\": 1\n          },\n          \"end\": {\n            \"line\": 7,\n            \"column\": 8\n          }\n        }\n      })) != null ? stack1 : \"\");\n\n      stack1 = (helper = (helper = lookupProperty(helpers, \"allowActions\") || (depth0 != null ? lookupProperty(depth0, \"allowActions\") : depth0)) != null ? helper : alias2, options = {\n        \"name\": \"allowActions\",\n        \"hash\": {},\n        \"fn\": container.program(7, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 8,\n            \"column\": 1\n          },\n          \"end\": {\n            \"line\": 12,\n            \"column\": 18\n          }\n        }\n      }, _typeof(helper) === alias3 ? helper.call(alias1, options) : helper);\n\n      if (!lookupProperty(helpers, \"allowActions\")) {\n        stack1 = container.hooks.blockHelperMissing.call(depth0, stack1, options);\n      }\n\n      if (stack1 != null) {\n        buffer += stack1;\n      }\n\n      return buffer + \"</span>\\n\";\n    },\n    \"useData\": true\n  });\n  templates['result_form'] = template({\n    \"1\": function _(container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t\t<a href=\\\"#\\\" class=\\\"delete icon icon-delete\\\" title=\\\"\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"deleteTooltip\") || (depth0 != null ? lookupProperty(depth0, \"deleteTooltip\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"deleteTooltip\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 5,\n            \"column\": 53\n          },\n          \"end\": {\n            \"line\": 5,\n            \"column\": 70\n          }\n        }\n      }) : helper)) + \"\\\"></a>\\n\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function main(container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          alias1 = depth0 != null ? depth0 : container.nullContext || {},\n          alias2 = container.hooks.helperMissing,\n          alias3 = \"function\",\n          alias4 = container.escapeExpression,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"<form class=\\\"systemtags-rename-form\\\">\\n\t <label class=\\\"hidden-visually\\\" for=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"cid\") || (depth0 != null ? lookupProperty(depth0, \"cid\") : depth0)) != null ? helper : alias2, _typeof(helper) === alias3 ? helper.call(alias1, {\n        \"name\": \"cid\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 2,\n            \"column\": 38\n          },\n          \"end\": {\n            \"line\": 2,\n            \"column\": 45\n          }\n        }\n      }) : helper)) + \"-rename-input\\\">\" + alias4((helper = (helper = lookupProperty(helpers, \"renameLabel\") || (depth0 != null ? lookupProperty(depth0, \"renameLabel\") : depth0)) != null ? helper : alias2, _typeof(helper) === alias3 ? helper.call(alias1, {\n        \"name\": \"renameLabel\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 2,\n            \"column\": 60\n          },\n          \"end\": {\n            \"line\": 2,\n            \"column\": 75\n          }\n        }\n      }) : helper)) + \"</label>\\n\t<input id=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"cid\") || (depth0 != null ? lookupProperty(depth0, \"cid\") : depth0)) != null ? helper : alias2, _typeof(helper) === alias3 ? helper.call(alias1, {\n        \"name\": \"cid\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 3,\n            \"column\": 12\n          },\n          \"end\": {\n            \"line\": 3,\n            \"column\": 19\n          }\n        }\n      }) : helper)) + \"-rename-input\\\" type=\\\"text\\\" value=\\\"\" + alias4((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : alias2, _typeof(helper) === alias3 ? helper.call(alias1, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 3,\n            \"column\": 53\n          },\n          \"end\": {\n            \"line\": 3,\n            \"column\": 61\n          }\n        }\n      }) : helper)) + \"\\\">\\n\" + ((stack1 = lookupProperty(helpers, \"if\").call(alias1, depth0 != null ? lookupProperty(depth0, \"isAdmin\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.noop,\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 4,\n            \"column\": 1\n          },\n          \"end\": {\n            \"line\": 6,\n            \"column\": 8\n          }\n        }\n      })) != null ? stack1 : \"\") + \"</form>\\n\";\n    },\n    \"useData\": true\n  });\n  templates['selection'] = template({\n    \"1\": function _(container, depth0, helpers, partials, data) {\n      var stack1,\n          helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t<span class=\\\"label\\\">\" + ((stack1 = (helper = (helper = lookupProperty(helpers, \"tagMarkup\") || (depth0 != null ? lookupProperty(depth0, \"tagMarkup\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"tagMarkup\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 2,\n            \"column\": 21\n          },\n          \"end\": {\n            \"line\": 2,\n            \"column\": 36\n          }\n        }\n      }) : helper)) != null ? stack1 : \"\") + \"</span>\\n\";\n    },\n    \"3\": function _(container, depth0, helpers, partials, data) {\n      var helper,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return \"\t<span class=\\\"label\\\">\" + container.escapeExpression((helper = (helper = lookupProperty(helpers, \"name\") || (depth0 != null ? lookupProperty(depth0, \"name\") : depth0)) != null ? helper : container.hooks.helperMissing, typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : container.nullContext || {}, {\n        \"name\": \"name\",\n        \"hash\": {},\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 4,\n            \"column\": 21\n          },\n          \"end\": {\n            \"line\": 4,\n            \"column\": 29\n          }\n        }\n      }) : helper)) + \"</span>\\n\";\n    },\n    \"compiler\": [8, \">= 4.3.0\"],\n    \"main\": function main(container, depth0, helpers, partials, data) {\n      var stack1,\n          lookupProperty = container.lookupProperty || function (parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n\n        return undefined;\n      };\n\n      return (stack1 = lookupProperty(helpers, \"if\").call(depth0 != null ? depth0 : container.nullContext || {}, depth0 != null ? lookupProperty(depth0, \"isAdmin\") : depth0, {\n        \"name\": \"if\",\n        \"hash\": {},\n        \"fn\": container.program(1, data, 0),\n        \"inverse\": container.program(3, data, 0),\n        \"data\": data,\n        \"loc\": {\n          \"start\": {\n            \"line\": 1,\n            \"column\": 0\n          },\n          \"end\": {\n            \"line\": 5,\n            \"column\": 7\n          }\n        }\n      })) != null ? stack1 : \"\";\n    },\n    \"useData\": true\n  });\n})();","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"@charset \\\"UTF-8\\\";\\n/**\\n * @copyright Copyright (c) 2016, John Molakvo√¶ <skjnldsv@protonmail.com>\\n * @copyright Copyright (c) 2016, Robin Appelman <robin@icewind.nl>\\n * @copyright Copyright (c) 2016, Jan-Christoph Borchardt <hey@jancborchardt.net>\\n * @copyright Copyright (c) 2016, Vincent Petry <pvince81@owncloud.com>\\n * @copyright Copyright (c) 2016, Erik Pellikka <erik@pellikka.org>\\n * @copyright Copyright (c) 2015, Vincent Petry <pvince81@owncloud.com>\\n *\\n * @license GNU AGPL version 3 or any later version\\n *\\n */\\n.systemtags-select2-dropdown .select2-result-label .checkmark {\\n  visibility: hidden;\\n  margin-left: -5px;\\n  margin-right: 5px;\\n  padding: 4px; }\\n\\n.systemtags-select2-dropdown .select2-result-label .new-item .systemtags-actions {\\n  display: none; }\\n\\n.systemtags-select2-dropdown .select2-selected .select2-result-label .checkmark {\\n  visibility: visible; }\\n\\n.systemtags-select2-dropdown .select2-result-label .icon {\\n  display: inline-block;\\n  opacity: .5; }\\n  .systemtags-select2-dropdown .select2-result-label .icon.rename {\\n    padding: 4px; }\\n\\n.systemtags-select2-dropdown .systemtags-actions {\\n  position: absolute;\\n  right: 5px; }\\n\\n.systemtags-select2-dropdown .systemtags-rename-form {\\n  display: inline-block;\\n  width: calc(100% - 20px);\\n  top: -6px;\\n  position: relative; }\\n  .systemtags-select2-dropdown .systemtags-rename-form input {\\n    display: inline-block;\\n    height: 30px;\\n    width: calc(100% - 40px); }\\n\\n.systemtags-select2-dropdown .label {\\n  width: 85%;\\n  display: inline-block;\\n  overflow: hidden;\\n  text-overflow: ellipsis; }\\n  .systemtags-select2-dropdown .label.hidden {\\n    display: none; }\\n\\n.systemtags-select2-dropdown span {\\n  line-height: 25px; }\\n\\n.systemtags-select2-dropdown .systemtags-item {\\n  display: inline-block;\\n  height: 25px;\\n  width: 100%; }\\n\\n.systemtags-select2-dropdown .select2-result-label {\\n  height: 25px; }\\n\\n.systemTagsInfoView,\\n.systemtags-select2-container {\\n  width: 100%; }\\n  .systemTagsInfoView .select2-choices .select2-search-choice.select2-locked .label,\\n  .systemtags-select2-container .select2-choices .select2-search-choice.select2-locked .label {\\n    opacity: 0.5; }\\n\\n#select2-drop.systemtags-select2-dropdown .select2-results li.select2-result {\\n  padding: 5px; }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nimport listToStyles from './listToStyles'\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nexport default function addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nexport default function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACvbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjYA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7NA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}